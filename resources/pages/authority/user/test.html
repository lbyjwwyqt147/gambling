<!DOCTYPE html>

<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->

<head>
    <meta charset="utf-8" />
    <title>用户</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="#1 selling multi-purpose bootstrap admin theme sold in themeforest marketplace packed with angularjs, material design, rtl support with over thausands of templates and ui elements and plugins to power any type of web applications including saas and admin dashboards. Preview page of Theme #1 for extended bootstrap tables powered with bootstrap-table plugin"
          name="description" />
    <meta content="" name="author" />
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="../../../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css" />
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL PLUGINS -->
    <link href="../../../../assets/global/plugins/bootstrap-table/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/global/plugins/bootstrap-editable/bootstrap-editable/css/bootstrap-editable.css" rel="stylesheet" type="text/css" />

    <!-- END PAGE LEVEL PLUGINS -->
    <!-- BEGIN THEME GLOBAL STYLES -->
    <link href="../../../../assets/global/css/components.min.css" rel="stylesheet" id="style_components" type="text/css" />
    <link href="../../../../assets/global/css/plugins.min.css" rel="stylesheet" type="text/css" />
    <!-- END THEME GLOBAL STYLES -->
    <!-- BEGIN THEME LAYOUT STYLES -->
    <link href="../../../../assets/layouts/layout/css/layout.min.css" rel="stylesheet" type="text/css" />
    <link href="../../../../assets/layouts/layout/css/themes/darkblue.min.css" rel="stylesheet" type="text/css" id="style_color" />
    <link href="../../../../assets/layouts/layout/css/custom.min.css" rel="stylesheet" type="text/css" />
    <!-- END THEME LAYOUT STYLES -->
    <link rel="shortcut icon" href="favicon.ico" /> </head>
<!-- END HEAD -->

<body class="page-header-fixed page-sidebar-closed-hide-logo page-content-white">
<div class="page-wrapper">

    <div class="mt-bootstrap-tables">
        <div class="row">

            <div class="col-md-12">
                <div class="portlet light bordered">
                    <div class="portlet-title">
                        <div class="caption">
                            <i class="icon-social-dribbble font-green hide"></i>
                            <span class="caption-subject font-dark bold uppercase">Table Pagination</span>
                        </div>
                        <div class="actions">
                            <a class="btn btn-circle btn-icon-only btn-default" href="javascript:;">
                                <i class="icon-wrench"></i>
                            </a>
                            <a class="btn btn-circle btn-icon-only btn-default" href="javascript:;" id="openRoleForm">
                                <i class="icon-plus"></i>
                            </a>
                            <a class="btn btn-circle btn-icon-only btn-default" href="javascript:;">
                                <i class="icon-trash"></i>
                            </a>
                        </div>
                    </div>
                    <div class="portlet-body">
                        <div id="toolbar">
                            <select class="form-control">
                                <option value="">Export Basic</option>
                                <option value="all">Export All</option>
                                <option value="selected">Export Selected</option>
                            </select>
                        </div>

                        <div class="columns columns-right btn-group pull-right">
                            <div class="export btn-group">
                                <button class="btn btn-default dropdown-toggle" aria-label="export type" title="Export data" data-toggle="dropdown" type="button">
                                    <i class="glyphicon glyphicon-export icon-share"></i>
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li role="menuitem" data-type="json">
                                        <a href="javascript:void(0)">JSON</a>
                                    </li>
                                    <li role="menuitem" data-type="xml">
                                        <a href="javascript:void(0)">XML</a>
                                    </li>
                                    <li role="menuitem" data-type="csv">
                                        <a href="javascript:void(0)">CSV</a>
                                    </li>
                                    <li role="menuitem" data-type="txt">
                                        <a href="javascript:void(0)">TXT</a>
                                    </li>
                                    <li role="menuitem" data-type="sql">
                                        <a href="javascript:void(0)">SQL</a>
                                    </li>
                                    <li role="menuitem" data-type="excel">
                                        <a href="javascript:void(0)">MS-Excel</a>
                                    </li>
                                    <li role="menuitem" data-type="png">
                                        <a href="javascript:void(0)">png</a>
                                    </li>

                                </ul>
                            </div>
                        </div>

                        <table id="demo-table" ></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- END CONTENT BODY -->

    <!-- END CONTENT -->

    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->
    <div class="page-footer">
        <div class="page-footer-inner"> 2016 &copy; Metronic Theme By
            <a target="_blank" href="http://keenthemes.com">Keenthemes</a> &nbsp;|&nbsp;
            <a href="http://themeforest.net/item/metronic-responsive-admin-dashboard-template/4021469?ref=keenthemes" title="Purchase Metronic just for 27$ and get lifetime updates for free" target="_blank">Purchase Metronic!</a>
        </div>
        <div class="scroll-to-top">
            <i class="icon-arrow-up"></i>
        </div>
    </div>
    <!-- END FOOTER -->
</div>


<!-- END QUICK NAV -->
<!--[if lt IE 9]>
<script src="../../../../assets/global/plugins/respond.min.js"></script>
<script src="../../../../assets/global/plugins/excanvas.min.js"></script>
<script src="../../../../assets/global/plugins/ie8.fix.min.js"></script>
<![endif]-->
<!-- BEGIN CORE PLUGINS -->
<script src="../../../../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/js.cookie.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<!-- BEGIN PAGE LEVEL PLUGINS -->
<script src="../../../../assets/global/plugins/bootstrap-table/bootstrap-table.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-table/extensions/editable/bootstrap-table-editable.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-editable/bootstrap-editable/js/bootstrap-editable.js" type="text/javascript"></script>

<script src="../../../../assets/global/plugins/bootstrap-table/extensions/export/tableExport.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-table/extensions/export/jquery.base64.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-table/extensions/export/bootstrap-table-export.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/bootstrap-table/extensions/export/html2canvas.js" type="text/javascript"></script>





<!-- END PAGE LEVEL PLUGINS -->
<!-- BEGIN THEME GLOBAL SCRIPTS -->
<script src="../../../../assets/global/scripts/app.min.js" type="text/javascript"></script>
<!-- END THEME GLOBAL SCRIPTS -->
<!-- BEGIN PAGE LEVEL SCRIPTS -->
<script src="../../../../assets/pages/scripts/table-bootstrap.min.js" type="text/javascript"></script>

<!-- END PAGE LEVEL SCRIPTS -->
<!-- BEGIN THEME LAYOUT SCRIPTS -->
<script src="../../../../assets/layouts/layout/scripts/layout.min.js" type="text/javascript"></script>
<script src="../../../../assets/layouts/layout/scripts/demo.min.js" type="text/javascript"></script>
<script src="../../../../assets/layouts/global/scripts/quick-sidebar.min.js" type="text/javascript"></script>
<script src="../../../../assets/layouts/global/scripts/quick-nav.min.js" type="text/javascript"></script>
<script src="../../../../assets/global/plugins/layer/layer.js" type="text/javascript"></script>
<script src="../../../../resources/scripts/common.js" type="text/javascript"></script>




<script>

    $(function () {
        initTableDatas();
    });

    function doQuery(params){
        $('#demo-table').bootstrapTable('refresh');    //刷新表格
    }


    function initTableDatas(){
        var url = "http://localhost:8762/list"
        $.ajax({
            url: url,
            type:"GET",
            dataType:"json",
            success :function (data,textStatus) {
                console.log(data);
                if(data.status == 0){
                    initTable(data.data);
                }else{
                    alert("失败")
                }
            },
            error:function (XMLHttpRequest, textStatus, errorThrown) {
                alert("网络错误")
            }
        });


    }




    function initTable(data) {

        $('#demo-table').bootstrapTable({
            method: 'GET',
            dataType: 'json',
            contentType: "application/x-www-form-urlencoded",
            data:data,
           // checkbox:true,
            cache: false,
            striped: true,                              //是否显示行间隔色
            sidePagination: "client",           //分页方式：client客户端分页，server服务端分页（*）
            height: $(window).height() - 110,
            width: $(window).width(),
            showColumns: true,
            pagination: true,
            queryParams: queryParams,
            minimumCountColumns: 2,
            pageNumber: 1,                       //初始化加载第一页，默认第一页
            pageSize: 20,                       //每页的记录行数（*）
            pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
            uniqueId: "id",                     //每一行的唯一标识，一般为主键列
            showExport: true,
            exportDataType: 'all',
            responseHandler: responseHandler,
            columns: [
                {
                    field:'state',
                    checkbox:true
                },
                {
                    field: '',
                    title: 'Sort No.',
                    formatter: function (value, row, index) {
                        return index + 1;
                    }
                },
                {
                    field: 'id',
                    title: 'User ID',
                    align: 'center',
                    valign: 'middle',
                    sortable: true
                }, {
                    field: 'institutionCode',
                    title: 'Institution Code',
                    align: 'center',
                    valign: 'middle',
                    sortable: true
                }, {
                    field: 'institutionName',
                    title: 'Institution Name',
                    align: 'center',
                    valign: 'middle'
                }, {
                    field: 'loginId',
                    title: 'Login Name',
                    align: 'center',
                    valign: 'middle',
                    sortable: true,
                    editable: {
                        type: 'text',
                        validate: function (value) {
                            if ($.trim(value) == '') {
                                return '单元编号不能为空!';
                            }
                        }
                    }
                }, {
                    field: 'realName',
                    title: 'Real Name',
                    align: 'center',
                    valign: 'middle'
                }, {
                    field: 'createTime',
                    title: 'Create Time',
                    align: 'center',
                    valign: 'left'/*,
                    formatter: function (value, row, index) {
                        return new Date(value).format('yyyy-MM-dd hh:mm:ss');
                    }*/
                }, {
                    field: 'homeAddress',
                    title: 'Address',
                    align: 'center',
                    valign: 'middle'
                }]
        });
    }


    function queryParams(params) {
        var param = {
         /*   orgCode : $("#orgCode").val(),
            userName : $("#userName").val(),
            startDate : $("#startDate").val(),
            endDate : $("#endDate").val(),*/
            limit : this.limit, // 页面大小
            offset : this.offset, // 页码
            pageindex : this.pageNumber,
            pageSize : this.pageSize
        }
        return param;
    }

    // 用于server 分页，表格数据量太大的话 不想一次查询所有数据，可以使用server分页查询，数据量小的话可以直接把sidePagination: "server"  改为 sidePagination: "client" ，同时去掉responseHandler: responseHandler就可以了，
    function responseHandler(res) {
        if (res) {
            return {
                "rows": res.result,
                "total": res.totalCount
            };
        } else {
            return {
                "rows": [],
                "total": 0
            };
        }
    }


</script>


<!-- END THEME LAYOUT SCRIPTS -->
</body>

</html>